import pygame
import math
import random

# Initialize pygame
pygame.init()

# Set up display
screen_width = 800
screen_height = 600
screen = pygame.display.set_mode((screen_width, screen_height))
pygame.display.set_caption("Spinning Roulette Wheel")

# Colors
white = (255, 255, 255)
black = (0, 0, 0)
red = (255, 0, 0)
green = (0, 128, 0)

# Wheel properties
wheel_radius = 200
wheel_center = (screen_width // 2, screen_height // 2)
num_segments = 37  # Standard roulette wheel

# Segment colors alternating red, black, and green for 0
segment_colors = [green if i == 0 else (red if i % 2 == 1 else black) for i in range(num_segments)]

# Font for numbers
font = pygame.font.Font(None, 36)

# Spin properties
spin_speed = 0.05  # Initial speed of spinning
angle = 0  # Start angle

running = True
clock = pygame.time.Clock()

while running:
    for event in pygame.event.get():
        if event.type == pygame.QUIT:
            running = False
    
    # Clear the screen
    screen.fill(white)

    # Draw the roulette wheel
    for i in range(num_segments):
        # Calculate the start and end angles for each segment
        start_angle = (2 * math.pi / num_segments) * i + angle
        end_angle = (2 * math.pi / num_segments) * (i + 1) + angle
        
        # Draw each segment
        pygame.draw.arc(
            screen, 
            segment_colors[i], 
            (wheel_center[0] - wheel_radius, wheel_center[1] - wheel_radius, wheel_radius * 2, wheel_radius * 2),
            start_angle, 
            end_angle, 
            wheel_radius // 10
        )
        
        # Draw the number on the segment
        text_angle = start_angle + (end_angle - start_angle) / 2
        text_x = wheel_center[0] + wheel_radius * 0.7 * math.cos(text_angle)
        text_y = wheel_center[1] + wheel_radius * 0.7 * math.sin(text_angle)
        number_text = font.render(str(i), True, white)
        screen.blit(number_text, (text_x - number_text.get_width() // 2, text_y - number_text.get_height() // 2))

    # Update the spinning angle
    angle += spin_speed
    angle %= 2 * math.pi

    # Draw the center dot
    pygame.draw.circle(screen, black, wheel_center, 10)

    # Refresh display
    pygame.display.flip()

    # Limit the frame rate
    clock.tick(60)

# Quit pygame
pygame.quit()
